<section class="qa-section-small w-75 ">
  <div class="qa-card">
    <div class="qa-card-header">
      <h1 class="qa-card-title-container qa-card-title">{{showRegister ? 'Register' : 'Login'}}</h1>
      <fa-icon class="qa-card-icon" icon="{{showRegister ? 'user-plus' : 'sign-in-alt'}}"></fa-icon>
    </div>

    <form (ngSubmit)="login()" *ngIf="!showRegister" [formGroup]="loginForm">
      <div class="font-s">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Username</mat-label>
          <input formControlName="username" matInput placeholder="Username" type="text">
          <mat-error *ngIf="loginForm.get('username')?.hasError('required')" class="font-xs">Username is required!
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Password</mat-label>
          <input formControlName="password" matInput placeholder="Password" type="password">
          <mat-error *ngIf="loginForm.get('password')?.hasError('required')" class="font-xs">Password is required!
          </mat-error>
        </mat-form-field>
      </div>

      <button [disabled]="!loginForm.valid" class="qa-btn qa-btn-s qa-btn-primary pull-right" type="submit">
        <fa-icon icon="sign-in-alt"></fa-icon>
        Login
      </button>
    </form>

    <form (ngSubmit)="register()" *ngIf="showRegister" [formGroup]="registerForm">
      <div class="font-s">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Username</mat-label>
          <input formControlName="username" matInput placeholder="Username" type="text">
          <mat-error *ngIf="registerForm.get('username')?.hasError('required')" class="font-xs">Username is required!
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Email</mat-label>
          <input formControlName="email" matInput placeholder="Username" type="text">
          <mat-error *ngIf="registerForm.get('email')?.hasError('required')" class="font-xs">Email is required!
          </mat-error>
          <mat-error *ngIf="registerForm.get('email')?.hasError('email')" class="font-xs"> Wrong email format!
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Password</mat-label>
          <input formControlName="password" matInput placeholder="Password" type="password">
          <mat-error *ngIf="registerForm.get('password')?.hasError('required')" class="font-xs">Password is required!
          </mat-error>
          <password-strength-meter [password]="registerForm.get('password').value"></password-strength-meter>
        </mat-form-field>


        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Repeat Password</mat-label>
          <input formControlName="rePassword" matInput placeholder="Password" type="password">
          <mat-error *ngIf="registerForm.get('rePassword')?.hasError('required')" class="font-xs">Please type password
            again!
          </mat-error>
          <mat-error *ngIf="registerForm.get('rePassword').hasError('passwordNotMatch')" class="font-xs">Password not
            match
          </mat-error>
        </mat-form-field>
      </div>

      <button [disabled]="!registerForm.valid" class="qa-btn qa-btn-s qa-btn-primary pull-right" type="submit">
        <fa-icon icon="user-plus"></fa-icon>
        Register
      </button>
    </form>

    <button (click)="switchToRegister()" class="qa-btn qa-btn-s qa-btn-success" type="submit">
      <fa-icon icon="{{!showRegister ? 'user-plus' : 'sign-in-alt'}}"></fa-icon>
      {{!showRegister ? 'Register' : 'Login'}}</button>

  </div>
</section>
